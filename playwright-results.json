{
  "config": {
    "configFile": "/home/jingqi/workspace/real-time-fund/playwright.config.ts",
    "rootDir": "/home/jingqi/workspace/real-time-fund/tests/e2e",
    "forbidOnly": false,
    "fullyParallel": true,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 1
    },
    "preserveOutput": "always",
    "projects": [
      {
        "outputDir": "/home/jingqi/workspace/real-time-fund/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "chromium",
        "name": "chromium",
        "testDir": "/home/jingqi/workspace/real-time-fund/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      }
    ],
    "quiet": false,
    "reporter": [
      [
        "html",
        {
          "outputFolder": "playwright-report"
        }
      ],
      [
        "json",
        {
          "outputFile": "playwright-results.json"
        }
      ],
      [
        "list",
        null
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "runAgents": "none",
    "shard": null,
    "tags": [],
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.58.2",
    "workers": 1,
    "webServer": null
  },
  "suites": [
    {
      "title": "auth/verify-otp-react-state.spec.ts",
      "file": "auth/verify-otp-react-state.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Direct OTP Verification with React State Manipulation",
          "file": "auth/verify-otp-react-state.spec.ts",
          "line": 3,
          "column": 6,
          "specs": [
            {
              "title": "should verify OTP by manipulating React state",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 11139,
                      "errors": [],
                      "stdout": [
                        {
                          "text": "\n=== STEP 1: Navigating to http://localhost:3000 ===\n"
                        },
                        {
                          "text": "[error] Failed to load resource: the server responded with a status of 403 ()\n"
                        },
                        {
                          "text": "\n=== STEP 2: Opening login modal ===\n"
                        },
                        {
                          "text": "\n=== STEP 3: Entering email ===\n"
                        },
                        {
                          "text": "\n=== STEP 4: Manipulating React state to show OTP input ===\n"
                        },
                        {
                          "text": "State manipulation result: { success: \u001b[33mfalse\u001b[39m, reason: \u001b[32m'OTP input not found in DOM'\u001b[39m, inputCount: \u001b[33m2\u001b[39m }\n"
                        },
                        {
                          "text": "OTP input visible after state manipulation: \u001b[33mfalse\u001b[39m\n"
                        },
                        {
                          "text": "\n=== STEP 5: Bypassing UI - calling Supabase verifyOtp directly ===\n"
                        },
                        {
                          "text": "API REQUEST: POST https://kghzmmyrqqurxtkrvbpf.supabase.co/auth/v1/verify\n"
                        },
                        {
                          "text": "[log] Direct Supabase verification response: {access_token: eyJhbGciOiJFUzI1NiIsImtpZCI6IjRiODVhMjU0LTA2MjItNGâ€¦LbEpn26NCIY0_FdBqRt0iSxxWPQMEPUCh8OUSfPAf60IG2QlQ, token_type: bearer, expires_in: 3600, expires_at: 1770820903, refresh_token: casb36exe62d}\n"
                        },
                        {
                          "text": "Direct verification result: {\n  success: \u001b[33mtrue\u001b[39m,\n  status: \u001b[33m200\u001b[39m,\n  data: {\n    access_token: \u001b[32m'eyJhbGciOiJFUzI1NiIsImtpZCI6IjRiODVhMjU0LTA2MjItNGU5Ni04YzU4LTdjNzdjZWE5N2JiZSIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2tnaHptbXlycXF1cnh0a3J2YnBmLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwOTFhOTdhYy0zNjVlLTRkZGItYjljMS05OGNlZmM5YjZiYWUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzcwODIwOTAzLCJpYXQiOjE3NzA4MTczMDMsImVtYWlsIjoiMzc5ODUyNzMxQHFxLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWwiOiIzNzk4NTI3MzFAcXEuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMDkxYTk3YWMtMzY1ZS00ZGRiLWI5YzEtOThjZWZjOWI2YmFlIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoib3RwIiwidGltZXN0YW1wIjoxNzcwODE3MzAzfV0sInNlc3Npb25faWQiOiIxNTcxMjk5Yi0xMmY0LTQ4NzEtODI3Ny05Y2FkOTI5NTM5MTkiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.IIMjH1mTn4ZyqRfa3RIPGXLfepiVZY1POaIJKLbEpn26NCIY0_FdBqRt0iSxxWPQMEPUCh8OUSfPAf60IG2QlQ'\u001b[39m,\n    token_type: \u001b[32m'bearer'\u001b[39m,\n    expires_in: \u001b[33m3600\u001b[39m,\n    expires_at: \u001b[33m1770820903\u001b[39m,\n    refresh_token: \u001b[32m'casb36exe62d'\u001b[39m,\n    user: {\n      id: \u001b[32m'091a97ac-365e-4ddb-b9c1-98cefc9b6bae'\u001b[39m,\n      aud: \u001b[32m'authenticated'\u001b[39m,\n      role: \u001b[32m'authenticated'\u001b[39m,\n      email: \u001b[32m'379852731@qq.com'\u001b[39m,\n      email_confirmed_at: \u001b[32m'2026-02-09T07:19:48.435007Z'\u001b[39m,\n      phone: \u001b[32m''\u001b[39m,\n      confirmation_sent_at: \u001b[32m'2026-02-09T07:19:07.577458Z'\u001b[39m,\n      confirmed_at: \u001b[32m'2026-02-09T07:19:48.435007Z'\u001b[39m,\n      recovery_sent_at: \u001b[32m'2026-02-11T13:24:52.181414Z'\u001b[39m,\n      last_sign_in_at: \u001b[32m'2026-02-11T13:41:43.774081544Z'\u001b[39m,\n      app_metadata: \u001b[36m[Object]\u001b[39m,\n      user_metadata: \u001b[36m[Object]\u001b[39m,\n      identities: \u001b[36m[Array]\u001b[39m,\n      created_at: \u001b[32m'2026-02-09T07:19:07.571298Z'\u001b[39m,\n      updated_at: \u001b[32m'2026-02-11T13:41:43.80737Z'\u001b[39m,\n      is_anonymous: \u001b[33mfalse\u001b[39m\n    }\n  }\n}\n"
                        },
                        {
                          "text": "SUCCESS! Got access_token: eyJhbGciOiJFUzI1NiIs...\n"
                        },
                        {
                          "text": "API RESPONSE: \u001b[36m[Function: status]\u001b[39m {\"access_token\":\"eyJhbGciOiJFUzI1NiIsImtpZCI6IjRiODVhMjU0LTA2MjItNGU5Ni04YzU4LTdjNzdjZWE5N2JiZSIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2tnaHptbXlycXF1cnh0a3J2YnBmLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOi\n"
                        },
                        {
                          "text": "[log] Saved to localStorage: sb-091a97ac-365e-4ddb-b9c1-98cefc9b6bae-auth-token\n"
                        },
                        {
                          "text": "Reloading page to pick up new session...\n"
                        },
                        {
                          "text": "[error] Failed to load resource: the server responded with a status of 403 ()\n"
                        },
                        {
                          "text": "\n=== STEP 7: Checking final state ===\n"
                        },
                        {
                          "text": "\n=== LocalStorage ===\n"
                        },
                        {
                          "text": "Supabase keys: [ \u001b[32m'sb-091a97ac-365e-4ddb-b9c1-98cefc9b6bae-auth-token'\u001b[39m ]\n"
                        },
                        {
                          "text": "  sb-091a97ac-365e-4ddb-b9c1-98cefc9b6bae-auth-token: 379852731@qq.com\n"
                        },
                        {
                          "text": "\n=== SUMMARY ===\n"
                        },
                        {
                          "text": "Success messages found: []\n"
                        },
                        {
                          "text": "Console errors: \u001b[33m2\u001b[39m\n"
                        },
                        {
                          "text": "Page errors: \u001b[33m0\u001b[39m\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2026-02-11T13:41:36.588Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "22f807b85342f4302307-ce9531649f7302cd3154",
              "file": "auth/verify-otp-react-state.spec.ts",
              "line": 7,
              "column": 7
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2026-02-11T13:41:34.755Z",
    "duration": 13183.330000000002,
    "expected": 1,
    "skipped": 0,
    "unexpected": 0,
    "flaky": 0
  }
}